{% extends "base.html" %}
{% block title %}Create an Account{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
{% endblock %}

{% block content %}

<script>const setupRedirectURL = "{{ url_for('main.setup') }}";</script>
<script src="{{ url_for('static', filename='js/register.js') }}"></script>

<section class="registration">
  <div class="registration-container">
    <div class="registration-card">

      <img src="{{ url_for('static', filename='images/IU_CAPITAL_LOGO.webp') }}" alt="IU Capital Logo" class="registration-logo">

      <h2 class="registration-title">Create Your Account</h2>
      <p class="registration-subtitle">Get started with IU Capital Premium Signal Bot</p>

      <p class="registration-description">
        Please create an account below, you will
        <strong>use this same email and password to log in to the Expert Advisor in MetaTrader 5.</strong>
      </p>

      <form id="registrationForm" class="registration-form">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required />
      
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Minimum 6 characters" required />
      
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter your password" required />
      
        <label for="product_checkout_select">Select Your Plan</label>
        <select id="product_checkout_select" name="product_checkout_select" required>
          <option value="" disabled selected>Select a plan</option>
        </select>
        
        <div id="plan-details" class="plan-details" style="display: none;">
          <p><strong>Plan:</strong> <span id="selected-plan-name">N/A</span></p>
          <p><strong>Price:</strong> <span id="selected-plan-price">N/A</span></p>
        </div>
        
        <!-- Hidden input for the actual plan name -->
        <input type="hidden" name="plan" id="plan" />
      
        <button type="submit" class="registration-button">Create Account</button>
      </form>

      <p id="formStatus" class="form-status"></p>
      <p class="registration-footer">
        Already have an account? <a href="{{ url_for('main.login') }}">Log in here</a>.
      </p>

    </div>
  </div>
</section>

{% endblock %}
